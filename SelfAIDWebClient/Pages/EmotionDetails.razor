@page "/emocja"
@page "/emocja/{name}"

@namespace SelfAID.WebClient.Pages

@if (string.IsNullOrEmpty(Name))
{
    <PageTitle>Dodaj nową emocję</PageTitle>
    <h1>Dodaj nową emocję</h1>
}
else
{
    <PageTitle>Edytuj emocję</PageTitle>
    <h1>Edytuj emocję</h1>
}

<div class="row">
    <EditForm Model="@emotion" OnValidSubmit="@HandleValidRequest" OnInvalidSubmit="@HandleInvalidRequest">
        <div class="form-group">
            <label class="col-md-3">Nazwa</label>
            <InputText class="col-md-8 form-control" @bind-Value="@emotion.Name"></InputText>
        </div>

        <div class="form-group">
            <label class="col-md-3">Opis</label>
            <InputText class="col-md-8 form-control" @bind-Value="@emotion.Description"></InputText>
        </div>
        <br \>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Zapisz</button>
            <a @onclick="@GoToEmotions" class="btn btn-primary">Powrót</a>

            @if (!string.IsNullOrEmpty(Name))
            {
                <a @onclick="@DeleteEmotion" style="float: right" class="btn btn-danger">Usuń emocję</a>
            }
        </div>
        <br \>
        <p style ="color: red">@Message</p>
    </EditForm>
</div>